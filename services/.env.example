# ============================================================================
# AIVO Platform - Environment Configuration
# Production-Grade Backend Services
# ============================================================================

# ----------------------------------------------------------------------------
# Environment
# ----------------------------------------------------------------------------
ENVIRONMENT=development
NODE_ENV=development
LOG_LEVEL=info

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
DATABASE_URL=postgresql+asyncpg://aivo_admin:aivo_password@localhost:5432/aivo_production
DB_PASSWORD=aivo_password
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=40

# ----------------------------------------------------------------------------
# Redis Configuration
# ----------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# ----------------------------------------------------------------------------
# AIVO Brain Service (Port 8001) - Main Foundation Model
# ----------------------------------------------------------------------------
# Model Configuration
PRIMARY_MODEL=microsoft/phi-3-mini-4k-instruct
FALLBACK_MODELS=microsoft/phi-2,TinyLlama/TinyLlama-1.1B-Chat-v1.0
BASE_MODEL=microsoft/phi-3-mini-4k-instruct
OPTIMIZATION_LEVEL=medium
USE_4BIT_QUANTIZATION=false
DEVICE=auto

# Performance
BATCH_SIZE=8
MAX_BATCH_DELAY_MS=50
INFERENCE_TIMEOUT_SECONDS=30
WORKER_COUNT=4

# Curriculum
KNOWLEDGE_BASE_PATH=/app/data/knowledge_base
CURRICULUM_STANDARDS=CCSS,NGSS,State-Specific

# ----------------------------------------------------------------------------
# Model Cloning Service (Port 8003)
# ----------------------------------------------------------------------------
BASE_MODEL_PATH=microsoft/phi-3-mini-4k-instruct
RAY_HEAD_ADDRESS=auto
LORA_RANK=16
LORA_ALPHA=32
LORA_DROPOUT=0.1
MAX_CONCURRENT_JOBS=10
CLONING_TIMEOUT_SECONDS=300

# ----------------------------------------------------------------------------
# AWS/S3 Configuration (for model storage)
# ----------------------------------------------------------------------------
AWS_ACCESS_KEY_ID=your_access_key_here
AWS_SECRET_ACCESS_KEY=your_secret_key_here
AWS_REGION=us-east-1
S3_BUCKET=aivo-models

# Or use MinIO for local development
MINIO_ENDPOINT=http://localhost:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin

# ----------------------------------------------------------------------------
# Monitoring & Observability
# ----------------------------------------------------------------------------
# Sentry (Error Tracking)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project

# Prometheus
PROMETHEUS_ENABLED=true
METRICS_PORT=9090

# ----------------------------------------------------------------------------
# Security
# ----------------------------------------------------------------------------
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000

# ----------------------------------------------------------------------------
# AI API Keys (Optional - for cloud services)
# ----------------------------------------------------------------------------
# OpenAI (if using OpenAI models)
OPENAI_API_KEY=sk-your-openai-key-here

# Anthropic (if using Claude)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key-here

# Google (for translation, TTS)
GOOGLE_TRANSLATE_API_KEY=your-google-translate-key
GOOGLE_CLOUD_TTS_KEY=your-google-tts-key

# ----------------------------------------------------------------------------
# Business Services
# ----------------------------------------------------------------------------
# Stripe (Payment Processing)
STRIPE_API_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# ----------------------------------------------------------------------------
# Communication Services
# ----------------------------------------------------------------------------
# SendGrid (Email)
SENDGRID_API_KEY=SG.your_sendgrid_api_key
SENDGRID_FROM_EMAIL=noreply@aivo.app
SENDGRID_FROM_NAME=AIVO Learning Platform

# Twilio (SMS)
TWILIO_ACCOUNT_SID=ACyour_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=+1234567890

# Firebase (Push Notifications)
FIREBASE_CONFIG={"your":"firebase","config":"here"}

# ----------------------------------------------------------------------------
# Local AI Services (for development without API keys)
# ----------------------------------------------------------------------------
# Ollama
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=mistral:latest

# LocalAI
LOCALAI_URL=http://localhost:8080

# vLLM
VLLM_URL=http://localhost:8081
VLLM_MODEL=facebook/opt-125m

# ----------------------------------------------------------------------------
# Feature Flags
# ----------------------------------------------------------------------------
ENABLE_DOCS=true
ACCESS_LOG_ENABLED=true
ENABLE_AUTO_RETRAINING=true
ENABLE_BIAS_MITIGATION=true
ENABLE_AUDIO_TRANSLATION=true

# ----------------------------------------------------------------------------
# Service URLs (for inter-service communication)
# ----------------------------------------------------------------------------
AIVO_BRAIN_URL=http://localhost:8001
MODEL_CLONING_URL=http://localhost:8003
ANALYTICS_URL=http://localhost:8004
TRAINING_ALIGNMENT_URL=http://localhost:8009
TRANSLATOR_URL=http://localhost:8010
BUSINESS_MODEL_URL=http://localhost:8011
NOTIFICATION_URL=http://localhost:8012
ANALYTICS_INSIGHTS_URL=http://localhost:8013

# ----------------------------------------------------------------------------
# Development Settings
# ----------------------------------------------------------------------------
# Set to false in production
DEBUG=false
ENABLE_CORS=true
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:5174,http://localhost:5175,http://localhost:5176

# ----------------------------------------------------------------------------
# Performance Tuning
# ----------------------------------------------------------------------------
# GPU Configuration
CUDA_VISIBLE_DEVICES=0
PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:512

# Cache Configuration
CACHE_TTL=3600
CACHE_MAX_SIZE=10000

# Connection Pools
DB_POOL_SIZE=20
REDIS_POOL_SIZE=10

# Timeouts
REQUEST_TIMEOUT=30
HEALTH_CHECK_INTERVAL_SECONDS=30
READINESS_CHECK_TIMEOUT_SECONDS=5

# ----------------------------------------------------------------------------
# Data Compliance
# ----------------------------------------------------------------------------
# COPPA Compliance
COPPA_ENABLED=true
PARENTAL_CONSENT_REQUIRED=true

# GDPR Compliance
GDPR_ENABLED=true
DATA_RETENTION_DAYS=730

# FERPA Compliance
FERPA_ENABLED=true

# ----------------------------------------------------------------------------
# Backup & Disaster Recovery
# ----------------------------------------------------------------------------
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=s3://aivo-backups/

# ----------------------------------------------------------------------------
# Notes for Production Deployment
# ----------------------------------------------------------------------------
# 1. Change all default passwords and secrets
# 2. Use proper secret management (AWS Secrets Manager, HashiCorp Vault)
# 3. Enable HTTPS/TLS for all services
# 4. Configure proper CORS origins
# 5. Set up monitoring and alerting
# 6. Configure backup and disaster recovery
# 7. Enable rate limiting and DDoS protection
# 8. Set up proper logging and log aggregation
# 9. Configure auto-scaling policies
# 10. Set up CI/CD pipelines
